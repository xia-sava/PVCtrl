<Window x:Class="PVCtrl.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="PvCtrl" Height="220" Width="680"
        Background="{StaticResource WindowBackgroundBrush}" FontFamily="Yu Gothic"
        FontSize="{StaticResource NormalFontSize}"
        Loaded="Window_Loaded" Closing="Window_Closing">
    <Grid Margin="6">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!-- ファイル名入力行 -->
        <StackPanel Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Orientation="Horizontal" Margin="0,0,0,6">
            <Label Content="録画ファイル名" VerticalAlignment="Center" Width="90" Padding="2" />
            <TextBox x:Name="FilenameTextBox" Width="330" Margin="0,0,2,0"
                     VerticalContentAlignment="Center" LostFocus="FilenameTextBox_LostFocus" />
            <Button x:Name="FilenamePasteButton" Content="paste" Width="50" Margin="0,0,3,0"
                    Click="FilenamePasteButton_Click" FontSize="{StaticResource NormalFontSize}" />
            <Button x:Name="RecButton" Content="●" Width="22" Foreground="Red" FontWeight="Bold"
                    Margin="3,0,3,0" Click="RecButton_Click" />
            <Button x:Name="StopButton" Content="■" Width="22" Foreground="Blue" FontWeight="Bold"
                    Click="StopButton_Click" />
        </StackPanel>

        <!-- 時間設定行 -->
        <StackPanel Grid.Row="1" Grid.Column="0" Orientation="Horizontal" Margin="0,0,0,6">
            <Button x:Name="Min25Button" Content="25" Width="32" Margin="0,0,3,0" Click="Min25Button_Click"
                    Padding="1" />
            <Button x:Name="Min30Button" Content="30" Width="32" Margin="0,0,3,0" Click="Min30Button_Click"
                    Padding="1" />
            <Button x:Name="Min60Button" Content="60" Width="32" Margin="0,0,3,0" Click="Min60Button_Click"
                    Padding="1" />
            <Button x:Name="Min90Button" Content="90" Width="32" Margin="0,0,3,0" Click="Min90Button_Click"
                    Padding="1" />
            <Button x:Name="Min120Button" Content="120" Width="32" Margin="0,0,3,0"
                    Click="Min120Button_Click" Padding="1" />
            <Button x:Name="Min180Button" Content="180" Width="32" Margin="0,0,3,0"
                    Click="Min180Button_Click" Padding="1" />
            <TextBox x:Name="MinUpDown" Width="40" Text="30" TextAlignment="Right" Margin="5,0,3,0"
                     PreviewMouseWheel="NumericUpDown_MouseWheel" />
            <Label Content="分後" VerticalAlignment="Center" Margin="0,0,8,0" Padding="2" />
            <ToggleButton x:Name="StopReserveCheckBox" Content="録画停止予約" VerticalAlignment="Center"
                          FontSize="{StaticResource LargeFontSize}"
                          Padding="6, 0"
                          Checked="StopReserveCheckBox_CheckedChanged"
                          Unchecked="StopReserveCheckBox_CheckedChanged" />
        </StackPanel>

        <!-- PV操作行 -->
        <StackPanel Grid.Row="2" Grid.Column="0" Orientation="Horizontal" Margin="0,0,0,6">
            <Button x:Name="InvokePVButton" Content="PV起動" Width="60" Margin="0,0,3,0"
                    Click="InvokePVButton_Click" Padding="1" />
            <Label Content="入力端子" VerticalAlignment="Center" Margin="3, 0, 2, 0" Padding="2" />
            <Button x:Name="LineAButton" Content="A" Width="23" Margin="0,0,3,0" Click="LineAButton_Click"
                    Padding="1" />
            <Button x:Name="LineBButton" Content="B" Width="23" Margin="0,0,3,0" Click="LineBButton_Click"
                    Padding="1" />
            <Label Content=" 音声" VerticalAlignment="Center" Margin="3,0,3,0" Padding="2" />
            <Button x:Name="SoundOnButton" Content="on/off" Width="48" Margin="0,0,3,0"
                    Click="SoundOnButton_Click" Padding="1" />
            <Label Content=" アラーム" VerticalAlignment="Center" Margin="3,0,2,0" Padding="2" />
            <TextBox x:Name="AlarmUpDown" Width="50" Text="2" TextAlignment="Right" Margin="0,0,2,0"
                     PreviewMouseWheel="NumericUpDown_MouseWheel" VerticalContentAlignment="Center" />
            <Label Content="分前" VerticalAlignment="Center" Padding="2" />
        </StackPanel>

        <!-- 停止時刻表示（右側） -->
        <StackPanel Grid.Row="1" Grid.RowSpan="3" Grid.Column="1" Orientation="Vertical" Height="Auto"
                    Margin="20,0,0,0">
            <StackPanel Orientation="Horizontal" Height="20">
                <Label Content="録画停止時刻" Width="64" VerticalAlignment="Center" Margin="0 0 10 0" Padding="0"
                       FontSize="{StaticResource MediumFontSize}" />
                <Label x:Name="StopTimeLabel" Content="00:00:00" VerticalAlignment="Center"
                       FontSize="{StaticResource LargeFontSize}" Margin="0" Padding="0" />
            </StackPanel>
            <StackPanel Orientation="Horizontal" Height="20">
                <Label Content="録画停止まで" Width="64" VerticalAlignment="Center" Margin="0 0 10 0" Padding="0"
                       FontSize="{StaticResource MediumFontSize}" />
                <Label x:Name="RemainedTimeLabel" Content="00:00:00" VerticalAlignment="Center"
                       FontSize="{StaticResource LargeFontSize}" Margin="0" Padding="0" />
            </StackPanel>
            <StackPanel Orientation="Horizontal" Height="20" Margin="0,6,0,0">
                <CheckBox x:Name="ClosePvReserveCheckBox" Content="停止後にPVを閉じる" Margin="0"
                          FontSize="{StaticResource NormalFontSize}"
                          Checked="ClosePvReserveCheckBox_CheckedChanged"
                          Unchecked="ClosePvReserveCheckBox_CheckedChanged" />
            </StackPanel>
        </StackPanel>

        <!-- メッセージ表示 -->
        <TextBox Grid.Row="3" Grid.Column="0" x:Name="MessageTextBox"
                 IsReadOnly="True"
                 TextWrapping="Wrap"
                 AcceptsReturn="True"
                 Height="Auto"
                 VerticalScrollBarVisibility="Auto"
                 BorderThickness="1"
                 Background="{StaticResource WindowBackgroundBrush}"
                 BorderBrush="Silver" />
    </Grid>
</Window>