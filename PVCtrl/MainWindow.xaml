<Window x:Class="PVCtrl.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="PvCtrl" Height="220" Width="680"
        FontFamily="Yu Gothic" FontSize="9"
        Loaded="Window_Loaded" Closing="Window_Closing">
    <Grid Margin="6">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>

        <!-- ファイル名入力行 -->
        <StackPanel Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Orientation="Horizontal" Margin="0,0,0,3">
            <Label Content="録画ファイル名" VerticalAlignment="Center" Width="90" Padding="2"/>
            <TextBox x:Name="FilenameTextBox" Width="330" Height="22" Margin="0,0,2,0" VerticalContentAlignment="Center" LostFocus="FilenameTextBox_LostFocus"/>
            <Button x:Name="FilenamePasteButton" Content="paste" Width="50" Height="22" Margin="0,0,2,0" Click="FilenamePasteButton_Click"/>
            <Button x:Name="RecButton" Content="●" Width="23" Height="22" Foreground="Red" FontWeight="Bold" Margin="0,0,2,0" Click="RecButton_Click"/>
            <Button x:Name="StopButton" Content="■" Width="23" Height="22" Foreground="Blue" FontWeight="Bold" Click="StopButton_Click"/>
        </StackPanel>

        <!-- 時間設定行 -->
        <StackPanel Grid.Row="1" Grid.Column="0" Orientation="Horizontal" Margin="0,0,0,3">
            <Button x:Name="Min25Button" Content="25" Width="32" Height="22" Margin="0,0,2,0" Click="Min25Button_Click" Padding="1"/>
            <Button x:Name="Min30Button" Content="30" Width="32" Height="22" Margin="0,0,2,0" Click="Min30Button_Click" Padding="1"/>
            <Button x:Name="Min60Button" Content="60" Width="32" Height="22" Margin="0,0,2,0" Click="Min60Button_Click" Padding="1"/>
            <Button x:Name="Min90Button" Content="90" Width="32" Height="22" Margin="0,0,2,0" Click="Min90Button_Click" Padding="1"/>
            <Button x:Name="Min120Button" Content="120" Width="32" Height="22" Margin="0,0,2,0" Click="Min120Button_Click" Padding="1"/>
            <Button x:Name="Min180Button" Content="180" Width="32" Height="22" Margin="0,0,2,0" Click="Min180Button_Click" Padding="1"/>
            <TextBox x:Name="MinUpDown" Width="50" Height="22" Text="30" TextAlignment="Right" Margin="0,0,2,0" PreviewMouseWheel="NumericUpDown_MouseWheel" VerticalContentAlignment="Center"/>
            <Label Content="分後" VerticalAlignment="Center" Margin="0,0,3,0" Padding="2"/>
            <CheckBox x:Name="StopReserveCheckBox" Content="録画停止予約" VerticalAlignment="Center" FontSize="10" Margin="0,0,5,0" Checked="StopReserveCheckBox_CheckedChanged" Unchecked="StopReserveCheckBox_CheckedChanged"/>
        </StackPanel>

        <!-- PV操作行 -->
        <StackPanel Grid.Row="2" Grid.Column="0" Orientation="Horizontal" Margin="0,0,0,3">
            <Button x:Name="InvokePVButton" Content="PV起動" Width="60" Height="22" Margin="0,0,2,0" Click="InvokePVButton_Click" Padding="1"/>
            <Label Content=" 入力端子" VerticalAlignment="Center" Margin="0,0,2,0" Padding="2"/>
            <Button x:Name="LineAButton" Content="A" Width="23" Height="22" Margin="0,0,2,0" Click="LineAButton_Click" Padding="1"/>
            <Button x:Name="LineBButton" Content="B" Width="23" Height="22" Margin="0,0,2,0" Click="LineBButton_Click" Padding="1"/>
            <Label Content=" 音声" VerticalAlignment="Center" Margin="0,0,2,0" Padding="2"/>
            <Button x:Name="SoundOnButton" Content="on/off" Width="48" Height="22" Margin="0,0,2,0" Click="SoundOnButton_Click" Padding="1"/>
            <Label Content=" アラーム" VerticalAlignment="Center" Margin="0,0,2,0" Padding="2"/>
            <TextBox x:Name="AlarmUpDown" Width="50" Height="22" Text="2" TextAlignment="Right" Margin="0,0,2,0" PreviewMouseWheel="NumericUpDown_MouseWheel" VerticalContentAlignment="Center"/>
            <Label Content="分前" VerticalAlignment="Center" Padding="2"/>
        </StackPanel>

        <!-- 停止時刻表示（右側） -->
        <StackPanel Grid.Row="1" Grid.RowSpan="2" Grid.Column="1" Orientation="Vertical" Margin="10,0,0,0">
            <StackPanel Orientation="Horizontal" Margin="0,0,0,2">
                <Label Content="録画停止時刻" Width="80" Padding="2" FontSize="9"/>
                <Label x:Name="StopTimeLabel" Content="00:00:00" FontSize="10" Padding="2"/>
            </StackPanel>
            <StackPanel Orientation="Horizontal" Margin="0,0,0,2">
                <Label Content="録画停止まで" Width="80" Padding="2" FontSize="9"/>
                <Label x:Name="RemainedTimeLabel" Content="00:00:00" FontSize="10" Padding="2"/>
            </StackPanel>
            <CheckBox x:Name="ClosePvReserveCheckBox" Content="停止後にPVを閉じる" Margin="5,2,0,0" FontSize="9" Checked="ClosePvReserveCheckBox_CheckedChanged" Unchecked="ClosePvReserveCheckBox_CheckedChanged"/>
        </StackPanel>

        <!-- メッセージ表示 -->
        <TextBox Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="2" x:Name="MessageTextBox" 
                 IsReadOnly="True" 
                 TextWrapping="Wrap" 
                 AcceptsReturn="True" 
                 VerticalScrollBarVisibility="Auto"
                 BorderThickness="1" 
                 BorderBrush="Gray"/>
    </Grid>
</Window>